---
title: "h2.jdbc.JdbcSQLSyntaxErrorException: SQLã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã«æ–‡æ³•ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™"
emoji: "ğŸ”–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["H2", "SQL", "Kotlin", "Java", "SpringBoot", "JPA"]
published: true
---

# H2 DBä½¿ç”¨æ™‚ã«ç™ºç”Ÿã—ãŸæ–‡æ³•ã‚¨ãƒ©ãƒ¼ã‚’è§£æ±ºã™ã‚‹

## å•é¡Œ
H2 DBä½¿ç”¨æ™‚ã«æ–‡æ³•ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã€SQLã‚’å®Ÿè¡Œã§ããªã„ã€‚
```
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: SQLã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã«æ–‡æ³•ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚Šã¾ã™ "create table [*]user (id integer generated by default as identity, name varchar(255), primary key (id))"; æœŸå¾…ã•ã‚Œã‚‹ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ "identifier"
Syntax error in SQL statement "create table [*]user (id integer generated by default as identity, name varchar(255), primary key (id))"; expected "identifier"; SQL statement:
```

## çŠ¶æ³
SQLã¯JPAãŒè‡ªå‹•ç”Ÿæˆã—ã¦ã„ã‚‹ã€‚

```kotlin
import javax.persistence.Entity
import javax.persistence.GeneratedValue
import javax.persistence.GenerationType
import javax.persistence.Id

@Entity
data class User(
	@Id
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	var id: Int = 0,
	var name: String = ""
)
```

```kotlin
import org.springframework.data.repository.CrudRepository

interface UserRepository : CrudRepository<User, Int>
```

## åŸå› 
ã‚¨ãƒ©ãƒ¼æ–‡ä¸­ã®`[*]` ã¯ã“ã®å‘¨è¾ºã«å•é¡ŒãŒã‚ã‚‹ã“ã¨ã‚’ã—ã‚ã—ã¦ã„ã‚‹ã€‚
ä»Šå›ã¯`[*]user`ãªã®ã§ã€userå‘¨è¾ºã«å•é¡ŒãŒã‚ã‚‹äº‹ãŒã‚ã‹ã‚‹ã€‚
ãã—ã¦ã€Œuserã€ã¯H2ã®äºˆç´„å¾Œã§ã‚ã‚‹ã®ã§ã€ã‚¯ã‚©ãƒ¼ãƒˆç­‰ã§å›²ã†å¿…è¦ãŒã‚ã‚‹ã€‚
http://www.h2database.com/html/advanced.html#keywords

## è§£æ±º
ä»Šå›ã¯æ¥ç¶šæ™‚ã®è¨­å®šã«NON_KEYWORDSã‚’è¨­å®šã™ã‚‹ã€‚
```
spring.datasource.url=jdbc:h2:mem:testdb;NON_KEYWORDS=USER
```
ãŸã ã—ã€å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚‹ã¨ã€Œå¯èƒ½ã§ã‚ã‚Œã°ã€å¼•ç”¨ç¬¦ä»˜ãã®è­˜åˆ¥å­ã€ã‚’ä½¿ç”¨ã—ã¦ã»ã—ã„ã¨ã®ã“ã¨ã€‚
https://www.h2database.com/html/commands.html#set_non_keywords


