---
title: "Golang åˆ¶å¾¡æ–‡"
emoji: "ğŸ—‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Go"]
published: true
---

# if
## åŸºæœ¬
- æ¡ä»¶ã‚’ã‹ã£ã“ã§å›²ã‚€å¿…è¦ã¯ãªã„
- ä¸‰é …æ¼”ç®—å­ã¯ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„

```go
if x%2 == 0 {
   fmt.Println(x, "is even")
}
```

## å¤‰æ•°ã®åˆæœŸåŒ–
ifã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆä¸­ã«å¤‰æ•°ã®åˆæœŸåŒ–ãŒã§ãã‚‹ã€‚
ã‚¹ã‚³ãƒ¼ãƒ—ã¯ifãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã ã‘ã«ãªã‚‹ã€‚
```go
if num := getnumber(); num < 0 {
    fmt.Println(num, "is negative")
} else if num < 10 {
    fmt.Println(num, "has only one digit")
} else {
    fmt.Println(num, "has multiple digits")
}
```

# switch

## åŸºæœ¬
Goã§ã¯breakãŒå¿…è¦ãªã„ã€‚
```go
switch i {
case 0:
    fmt.Print("zero...")
case 1:
    fmt.Print("one...")
case 2:
    fmt.Print("two...")
default:
    fmt.Print("no match...")
}

```

## è¤‡æ•°ã®å¼
```go
switch city {
case "Tokyo", "Kanagawa", "Chiba", "Saitama", "Tochigi", "Ibaraki":
    fmt.Print("Kanto")
case "Aomori", "Akita", "Iwate", "Yamagata", "Miyagi", "Fukushima":
    fmt.Print("Tohoku")
}
```

## æ¡ä»¶ã®çœç•¥
trueå€¤ã¨ã®æ¯”è¼ƒã«è¿‘ã„
```go
switch {
case r > 0.1:
    fmt.Println("Common case, 90% of the time")
default:
    fmt.Println("10% of the time")
}

```

# forãƒ«ãƒ¼ãƒ—
## åŸºæœ¬
()ãŒå¿…è¦ãªã„
```go
for i := 1; i <= 100; i++ {
    sum += i
}
```
## æ¡ä»¶ã€å‰å¾Œã®ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆã¯çœç•¥å¯èƒ½
while ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¯ãªã„ãŒã€whileã®ã‚ˆã†ãªä½¿ã„å‹æ‰‹ã¨ãªã‚‹ã€‚
```go
for num != 5 {
    num = rand.Int63n(15)
ã€€fmt.Println(num)
}
```
```go
for {
    if num = rand.Int63n(15);num == 5{
        break
    }
ã€€fmt.Println(num)
}

```

# defer é–¢æ•°
defer ã‚¹ãƒ†ãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã‚‹é–¢æ•°ãŒçµ‚äº†ã™ã‚‹ã¾ã§ã€é–¢æ•°ã®å®Ÿè¡ŒãŒå»¶æœŸã•ã‚Œã‚‹
```go
for i := 1; i <= 4; i++ {
    defer fmt.Println("deferred", -i)
    fmt.Println("regular", i)
}
```
```zsh
regular 1
regular 2
regular 3
regular 4
deferred -4
deferred -3
deferred -2
deferred -1
```
defer é–¢æ•°ã®ä¸€èˆ¬çš„ãªãƒ¦ãƒ¼ã‚¹ ã‚±ãƒ¼ã‚¹ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½¿ç”¨ãŒçµ‚äº†ã—ãŸã¨ãã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‰ã˜ã‚‹ã“ã¨
```go
func main() {
    f, err := os.Create("notes.txt")
    if err != nil {
        return
    }
    defer f.Close()

    if _, err = io.WriteString(f, "Learning Go!"); err != nil {
        return
    }

    f.Sync()
}
```

# panic é–¢æ•°
ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å¼·åˆ¶çš„ã«ãƒ‘ãƒ‹ãƒƒã‚¯ã«ã•ã›ã‚‹ã€‚
Javaã§ã„ã†throw Exception

1. ã™ã¹ã¦ã®é…å»¶é–¢æ•°å‘¼ã³å‡ºã—ã¯ã€æ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹
1. ã™ã¹ã¦ã®é–¢æ•°ã‹ã‚‰æˆ»ã‚‹ã¾ã§ã€ãƒ—ãƒ­ã‚»ã‚¹ã§ã‚¹ã‚¿ãƒƒã‚¯ãŒç¶šè¡Œã•ã‚Œã‚‹ã€‚
1.  ãã®å¾Œã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã¯ãƒ­ã‚° ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ã¦ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ã¾ã™ã€‚
```go
panic("something went wrong")
```

# recover é–¢æ•°
recover() ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€ãƒ‘ãƒ‹ãƒƒã‚¯ã®å¾Œã§åˆ¶å¾¡ã‚’å–ã‚Šæˆ»ã™ã“ã¨ãŒã§ãã‚‹
ä»–ã®è¨€èªã§è¨€ã†ã€try/catch ãƒ–ãƒ­ãƒƒã‚¯ã«è¿‘ã„
```go
if r := recover(); r != nil {
    fmt.Println("Recovered", r)
}
```
