---
title: "AWS Lambda + Go"
emoji: "ğŸ”¥"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["AWS", "Lambda", "Go"]
published: true
---

# Lambdaé–¢æ•°ã‚’Goã§å®Ÿè£…ã—ã€Httpã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹

## ã‚„ã‚‹ã“ã¨
1. Lambdaãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å–å¾—
1. Lambdaé–¢æ•°ä½œæˆ
1. Goã®ãƒ“ãƒ«ãƒ‰
1. Lambdaã®è¨­å®š
1. ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ


## Lambdaãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å–å¾—
```
â¯ mkdir -p go_lambda

â¯ cd go_lambda

â¯ go mod init
go: creating new go.mod: module go_lambda

â¯ go get -u github.com/aws/aws-lambda-go/lambda
go: added github.com/aws/aws-lambda-go v1.33.0

â¯ tree
.
â”œâ”€â”€ go.mod
â””â”€â”€ go.sum
```

## Lambdaé–¢æ•°ä½œæˆ
```go
â¯ cat main.go
package main

import (
	"fmt"

	"github.com/aws/aws-lambda-go/lambda"
)

type Request struct {
	Name string `json:"Name"`
}

type Response struct {
	Message string `json:"Message:"`
}

func hello(request Request) (Response, error) {
	return Response{Message: fmt.Sprintf("Hello %s.", request.Name)}, nil
}

func main() {
	lambda.Start(hello)
}
```

## Goã®ãƒ“ãƒ«ãƒ‰
```
â¯ GOOS=linux GOARCH=amd64 go build -o hello

~/Work/go_src/go_lambda
â¯ zip hello.zip hello
  adding: hello (deflated 45%)
```

## Lambdaã®è¨­å®š
![](/images/0a2757c7d16f60/lambda_setting1.png)
![](/images/0a2757c7d16f60/lambda_setting2.png)

## ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
![](/images/0a2757c7d16f60/lambda_test_run.png)
![](/images/0a2757c7d16f60/lambda_test_result.png)
